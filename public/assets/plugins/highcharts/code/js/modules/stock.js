/*
 Highcharts JS v6.0.0 (2017-10-04)
 Highstock as a plugin for Highcharts

 (c) 2017 Torstein Honsi

 License: www.highcharts.com/license
*/
(function(H){"object"===typeof module&&module.exports?module.exports=H:H(Highcharts)})(function(H){(function(a){var D=a.addEvent,A=a.Axis,B=a.Chart,x=a.css,E=a.dateFormat,u=a.defined,F=a.each,m=a.extend,p=a.noop,z=a.pick,G=a.timeUnits,q=a.wrap;q(a.Series.prototype,"init",function(a){var b;a.apply(this,Array.prototype.slice.call(arguments,1));(b=this.xAxis)&&b.options.ordinal&&D(this,"updatedData",function(){delete b.ordinalIndex})});q(A.prototype,"getTimeTicks",function(a,b,f,y,n,g,l,r){var c=0,t,
k,h={},d,e,v,w=[],Q=-Number.MAX_VALUE,L=this.options.tickPixelInterval;if(!this.options.ordinal&&!this.options.breaks||!g||3>g.length||void 0===f)return a.call(this,b,f,y,n);e=g.length;for(t=0;t<e;t++){v=t&&g[t-1]>y;g[t]<f&&(c=t);if(t===e-1||g[t+1]-g[t]>5*l||v){if(g[t]>Q){for(k=a.call(this,b,g[c],g[t],n);k.length&&k[0]<=Q;)k.shift();k.length&&(Q=k[k.length-1]);w=w.concat(k)}c=t+1}if(v)break}a=k.info;if(r&&a.unitRange<=G.hour){t=w.length-1;for(c=1;c<t;c++)E("%d",w[c])!==E("%d",w[c-1])&&(h[w[c]]="day",
d=!0);d&&(h[w[0]]="day");a.higherRanks=h}w.info=a;if(r&&u(L)){r=a=w.length;t=[];var N;for(d=[];r--;)c=this.translate(w[r]),N&&(d[r]=N-c),t[r]=N=c;d.sort();d=d[Math.floor(d.length/2)];d<.6*L&&(d=null);r=w[a-1]>y?a-1:a;for(N=void 0;r--;)c=t[r],y=Math.abs(N-c),N&&y<.8*L&&(null===d||y<.8*d)?(h[w[r]]&&!h[w[r+1]]?(y=r+1,N=c):y=r,w.splice(y,1)):N=c}return w});m(A.prototype,{beforeSetTickPositions:function(){var a,b=[],f=!1,y,n=this.getExtremes(),g=n.min,l=n.max,r,C=this.isXAxis&&!!this.options.breaks,n=
this.options.ordinal,t=Number.MAX_SAFE_INTEGER,k=this.chart.options.chart.ignoreHiddenSeries;y="highcharts-navigator-xaxis"===this.options.className;!this.options.overscroll||this.max!==this.dataMax||this.chart.mouseIsDown&&!y||this.eventArgs&&(!this.eventArgs||"navigator"===this.eventArgs.trigger)||(this.max+=this.options.overscroll,!y&&u(this.userMin)&&(this.min+=this.options.overscroll));if(n||C){F(this.series,function(h,d){if(!(k&&!1===h.visible||!1===h.takeOrdinalPosition&&!C)&&(b=b.concat(h.processedXData),
a=b.length,b.sort(function(e,v){return e-v}),t=Math.min(t,z(h.closestPointRange,t)),a))for(d=a-1;d--;)b[d]===b[d+1]&&b.splice(d,1)});a=b.length;if(2<a){y=b[1]-b[0];for(r=a-1;r--&&!f;)b[r+1]-b[r]!==y&&(f=!0);!this.options.keepOrdinalPadding&&(b[0]-g>y||l-b[b.length-1]>y)&&(f=!0)}else this.options.overscroll&&(2===a?t=b[1]-b[0]:1===a?(t=this.options.overscroll,b=[b[0],b[0]+t]):t=this.overscrollPointsRange);f?(this.options.overscroll&&(this.overscrollPointsRange=t,b=b.concat(this.getOverscrollPositions())),
this.ordinalPositions=b,y=this.ordinal2lin(Math.max(g,b[0]),!0),r=Math.max(this.ordinal2lin(Math.min(l,b[b.length-1]),!0),1),this.ordinalSlope=l=(l-g)/(r-y),this.ordinalOffset=g-y*l):(this.overscrollPointsRange=z(this.closestPointRange,this.overscrollPointsRange),this.ordinalPositions=this.ordinalSlope=this.ordinalOffset=void 0)}this.isOrdinal=n&&f;this.groupIntervalFactor=null},val2lin:function(a,b){var f=this.ordinalPositions;if(f){var c=f.length,n,g;for(n=c;n--;)if(f[n]===a){g=n;break}for(n=c-
1;n--;)if(a>f[n]||0===n){a=(a-f[n])/(f[n+1]-f[n]);g=n+a;break}b=b?g:this.ordinalSlope*(g||0)+this.ordinalOffset}else b=a;return b},lin2val:function(a,b){var f=this.ordinalPositions;if(f){var c=this.ordinalSlope,n=this.ordinalOffset,g=f.length-1,l;if(b)0>a?a=f[0]:a>g?a=f[g]:(g=Math.floor(a),l=a-g);else for(;g--;)if(b=c*g+n,a>=b){c=c*(g+1)+n;l=(a-b)/(c-b);break}return void 0!==l&&void 0!==f[g]?f[g]+(l?l*(f[g+1]-f[g]):0):a}return a},getExtendedPositions:function(){var a=this,b=a.chart,f=a.series[0].currentDataGrouping,
y=a.ordinalIndex,n=f?f.count+f.unitName:"raw",g=a.options.overscroll,l=a.getExtremes(),r,C;y||(y=a.ordinalIndex={});y[n]||(r={series:[],chart:b,getExtremes:function(){return{min:l.dataMin,max:l.dataMax+g}},options:{ordinal:!0},val2lin:A.prototype.val2lin,ordinal2lin:A.prototype.ordinal2lin},F(a.series,function(g){C={xAxis:r,xData:g.xData.slice(),chart:b,destroyGroupedData:p};C.xData=C.xData.concat(a.getOverscrollPositions());C.options={dataGrouping:f?{enabled:!0,forced:!0,approximation:"open",units:[[f.unitName,
[f.count]]]}:{enabled:!1}};g.processData.apply(C);r.series.push(C)}),a.beforeSetTickPositions.apply(r),y[n]=r.ordinalPositions);return y[n]},getOverscrollPositions:function(){var c=this.options.overscroll,b=this.overscrollPointsRange,f=[],y=this.dataMax;if(a.defined(b))for(f.push(y);y<=this.dataMax+c;)y+=b,f.push(y);return f},getGroupIntervalFactor:function(a,b,f){var c;f=f.processedXData;var n=f.length,g=[];c=this.groupIntervalFactor;if(!c){for(c=0;c<n-1;c++)g[c]=f[c+1]-f[c];g.sort(function(g,a){return g-
a});g=g[Math.floor(n/2)];a=Math.max(a,f[0]);b=Math.min(b,f[n-1]);this.groupIntervalFactor=c=n*g/(b-a)}return c},postProcessTickInterval:function(a){var b=this.ordinalSlope;return b?this.options.breaks?this.closestPointRange:a/(b/this.closestPointRange):a}});A.prototype.ordinal2lin=A.prototype.val2lin;q(B.prototype,"pan",function(a,b){var f=this.xAxis[0],c=f.options.overscroll,n=b.chartX,g=!1;if(f.options.ordinal&&f.series.length){var l=this.mouseDownX,r=f.getExtremes(),C=r.dataMax,t=r.min,k=r.max,
h=this.hoverPoints,d=f.closestPointRange||f.overscrollPointsRange,l=(l-n)/(f.translationSlope*(f.ordinalSlope||d)),e={ordinalPositions:f.getExtendedPositions()},d=f.lin2val,v=f.val2lin,w;e.ordinalPositions?1<Math.abs(l)&&(h&&F(h,function(e){e.setState()}),0>l?(h=e,w=f.ordinalPositions?f:e):(h=f.ordinalPositions?f:e,w=e),e=w.ordinalPositions,C>e[e.length-1]&&e.push(C),this.fixedRange=k-t,l=f.toFixedRange(null,null,d.apply(h,[v.apply(h,[t,!0])+l,!0]),d.apply(w,[v.apply(w,[k,!0])+l,!0])),l.min>=Math.min(r.dataMin,
t)&&l.max<=Math.max(C,k)+c&&f.setExtremes(l.min,l.max,!0,!1,{trigger:"pan"}),this.mouseDownX=n,x(this.container,{cursor:"move"})):g=!0}else g=!0;g&&(c&&(f.max=f.dataMax+c),a.apply(this,Array.prototype.slice.call(arguments,1)))})})(H);(function(a){function D(){return Array.prototype.slice.call(arguments,1)}function A(a){a.apply(this);this.drawBreaks(this.xAxis,["x"]);this.drawBreaks(this.yAxis,B(this.pointArrayMap,["y"]))}var B=a.pick,x=a.wrap,E=a.each,u=a.extend,F=a.isArray,m=a.fireEvent,p=a.Axis,
z=a.Series;u(p.prototype,{isInBreak:function(a,m){var c=a.repeat||Infinity,b=a.from,f=a.to-a.from;m=m>=b?(m-b)%c:c-(b-m)%c;return a.inclusive?m<=f:m<f&&0!==m},isInAnyBreak:function(a,m){var c=this.options.breaks,b=c&&c.length,f,p,n;if(b){for(;b--;)this.isInBreak(c[b],a)&&(f=!0,p||(p=B(c[b].showPoints,this.isXAxis?!1:!0)));n=f&&m?f&&!p:f}return n}});x(p.prototype,"setTickPositions",function(a){a.apply(this,Array.prototype.slice.call(arguments,1));if(this.options.breaks){var m=this.tickPositions,c=
this.tickPositions.info,b=[],f;for(f=0;f<m.length;f++)this.isInAnyBreak(m[f])||b.push(m[f]);this.tickPositions=b;this.tickPositions.info=c}});x(p.prototype,"init",function(a,q,c){var b=this;c.breaks&&c.breaks.length&&(c.ordinal=!1);a.call(this,q,c);a=this.options.breaks;b.isBroken=F(a)&&!!a.length;b.isBroken&&(b.val2lin=function(a){var f=a,c,g;for(g=0;g<b.breakArray.length;g++)if(c=b.breakArray[g],c.to<=a)f-=c.len;else if(c.from>=a)break;else if(b.isInBreak(c,a)){f-=a-c.from;break}return f},b.lin2val=
function(a){var c,f;for(f=0;f<b.breakArray.length&&!(c=b.breakArray[f],c.from>=a);f++)c.to<a?a+=c.len:b.isInBreak(c,a)&&(a+=c.len);return a},b.setExtremes=function(a,b,c,g,l){for(;this.isInAnyBreak(a);)a-=this.closestPointRange;for(;this.isInAnyBreak(b);)b-=this.closestPointRange;p.prototype.setExtremes.call(this,a,b,c,g,l)},b.setAxisTranslation=function(a){p.prototype.setAxisTranslation.call(this,a);a=b.options.breaks;var c=[],f=[],g=0,l,r,C=b.userMin||b.min,t=b.userMax||b.max,k=B(b.pointRangePadding,
0),h,d;E(a,function(e){r=e.repeat||Infinity;b.isInBreak(e,C)&&(C+=e.to%r-C%r);b.isInBreak(e,t)&&(t-=t%r-e.from%r)});E(a,function(e){h=e.from;for(r=e.repeat||Infinity;h-r>C;)h-=r;for(;h<C;)h+=r;for(d=h;d<t;d+=r)c.push({value:d,move:"in"}),c.push({value:d+(e.to-e.from),move:"out",size:e.breakSize})});c.sort(function(e,v){return e.value===v.value?("in"===e.move?0:1)-("in"===v.move?0:1):e.value-v.value});l=0;h=C;E(c,function(e){l+="in"===e.move?1:-1;1===l&&"in"===e.move&&(h=e.value);0===l&&(f.push({from:h,
to:e.value,len:e.value-h-(e.size||0)}),g+=e.value-h-(e.size||0))});b.breakArray=f;b.unitLength=t-C-g+k;m(b,"afterBreaks");b.options.staticScale?b.transA=b.options.staticScale:b.unitLength&&(b.transA*=(t-b.min+k)/b.unitLength);k&&(b.minPixelPadding=b.transA*b.minPointOffset);b.min=C;b.max=t})});x(z.prototype,"generatePoints",function(a){a.apply(this,D(arguments));var m=this.xAxis,c=this.yAxis,b=this.points,f,p=b.length,n=this.options.connectNulls,g;if(m&&c&&(m.options.breaks||c.options.breaks))for(;p--;)f=
b[p],g=null===f.y&&!1===n,g||!m.isInAnyBreak(f.x,!0)&&!c.isInAnyBreak(f.y,!0)||(b.splice(p,1),this.data[p]&&this.data[p].destroyElements())});a.Series.prototype.drawBreaks=function(a,p){var c=this,b=c.points,f,q,n,g;a&&E(p,function(l){f=a.breakArray||[];q=a.isXAxis?a.min:B(c.options.threshold,a.min);E(b,function(b){g=B(b["stack"+l.toUpperCase()],b[l]);E(f,function(l){n=!1;if(q<l.from&&g>l.to||q>l.from&&g<l.from)n="pointBreak";else if(q<l.from&&g>l.from&&g<l.to||q>l.from&&g>l.to&&g<l.from)n="pointInBreak";
n&&m(a,n,{point:b,brk:l})})})})};a.Series.prototype.gappedPath=function(){var m=this.options.gapSize,p=this.points.slice(),c=p.length-1,b=this.yAxis,f;if(m&&0<c)for("value"!==this.options.gapUnit&&(m*=this.closestPointRange);c--;)p[c+1].x-p[c].x>m&&(f=(p[c].x+p[c+1].x)/2,p.splice(c+1,0,{isNull:!0,x:f}),this.options.stacking&&(f=b.stacks[this.stackKey][f]=new a.StackItem(b,b.options.stackLabels,!1,f,this.stack),f.total=0));return this.getGraphPath(p)};x(a.seriesTypes.column.prototype,"drawPoints",
A);x(a.Series.prototype,"drawPoints",A)})(H);(function(a){var D=a.arrayMax,A=a.arrayMin,B=a.Axis,x=a.defaultPlotOptions,E=a.defined,u=a.each,F=a.extend,m=a.format,p=a.isNumber,z=a.merge,G=a.pick,q=a.Point,c=a.Tooltip,b=a.wrap,f=a.Series.prototype,y=f.processData,n=f.generatePoints,g=f.destroy,l={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],
minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},r={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",
groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},C=a.defaultDataGroupingUnits=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],t=a.approximations={sum:function(k){var a=k.length,d;if(!a&&k.hasNulls)d=null;else if(a)for(d=0;a--;)d+=k[a];return d},average:function(k){var a=k.length;k=t.sum(k);p(k)&&a&&(k/=a);return k},averages:function(){var k=
[];u(arguments,function(a){k.push(t.average(a))});return k},open:function(k){return k.length?k[0]:k.hasNulls?null:void 0},high:function(k){return k.length?D(k):k.hasNulls?null:void 0},low:function(k){return k.length?A(k):k.hasNulls?null:void 0},close:function(k){return k.length?k[k.length-1]:k.hasNulls?null:void 0},ohlc:function(k,a,d,e){k=t.open(k);a=t.high(a);d=t.low(d);e=t.close(e);if(p(k)||p(a)||p(d)||p(e))return[k,a,d,e]},range:function(a,h){a=t.low(a);h=t.high(h);if(p(a)||p(h))return[a,h];if(null===
a&&null===h)return null}};f.groupData=function(a,h,d,e){var v=this.data,k=this.options.data,g=[],L=[],b=[],J=a.length,c,f,m=!!h,K=[];e="function"===typeof e?e:t[e]||r[this.type]&&t[r[this.type].approximation]||t[l.approximation];var n=this.pointArrayMap,C=n&&n.length,q=0;f=0;var x,z;C?u(n,function(){K.push([])}):K.push([]);x=C||1;for(z=0;z<=J&&!(a[z]>=d[0]);z++);for(z;z<=J;z++){for(;void 0!==d[q+1]&&a[z]>=d[q+1]||z===J;){c=d[q];this.dataGroupInfo={start:f,length:K[0].length};f=e.apply(this,K);void 0!==
f&&(g.push(c),L.push(f),b.push(this.dataGroupInfo));f=z;for(c=0;c<x;c++)K[c].length=0,K[c].hasNulls=!1;q+=1;if(z===J)break}if(z===J)break;if(n){c=this.cropStart+z;var G=v&&v[c]||this.pointClass.prototype.applyOptions.apply({series:this},[k[c]]),y;for(c=0;c<C;c++)y=G[n[c]],p(y)?K[c].push(y):null===y&&(K[c].hasNulls=!0)}else c=m?h[z]:null,p(c)?K[0].push(c):null===c&&(K[0].hasNulls=!0)}return[g,L,b]};f.processData=function(){var a=this.chart,h=this.options.dataGrouping,d=!1!==this.allowDG&&h&&G(h.enabled,
a.options.isStock),e=this.visible||!a.options.chart.ignoreHiddenSeries,v;this.forceCrop=d;this.groupPixelWidth=null;this.hasProcessed=!0;if(!1!==y.apply(this,arguments)&&d){this.destroyGroupedData();var w=this.processedXData,g=this.processedYData,l=a.plotSizeX,a=this.xAxis,c=a.options.ordinal,b=this.groupPixelWidth=a.getGroupPixelWidth&&a.getGroupPixelWidth();if(b){this.isDirty=v=!0;this.points=null;var r=a.getExtremes(),d=r.min,r=r.max,c=c&&a.getGroupIntervalFactor(d,r,this)||1,l=b*(r-d)/l*c,b=a.getTimeTicks(a.normalizeTimeTickInterval(l,
h.units||C),Math.min(d,w[0]),Math.max(r,w[w.length-1]),a.options.startOfWeek,w,this.closestPointRange),w=f.groupData.apply(this,[w,g,b,h.approximation]),g=w[0],c=w[1];if(h.smoothed&&g.length){h=g.length-1;for(g[h]=Math.min(g[h],r);h--&&0<h;)g[h]+=l/2;g[0]=Math.max(g[0],d)}this.currentDataGrouping=b.info;this.closestPointRange=b.info.totalRange;this.groupMap=w[2];E(g[0])&&g[0]<a.dataMin&&e&&(a.min===a.dataMin&&(a.min=g[0]),a.dataMin=g[0]);this.processedXData=g;this.processedYData=c}else this.currentDataGrouping=
this.groupMap=null;this.hasGroupedData=v}};f.destroyGroupedData=function(){var a=this.groupedData;u(a||[],function(k,d){k&&(a[d]=k.destroy?k.destroy():null)});this.groupedData=null};f.generatePoints=function(){n.apply(this);this.destroyGroupedData();this.groupedData=this.hasGroupedData?this.points:null};b(q.prototype,"update",function(k){this.dataGroup?a.error(24):k.apply(this,[].slice.call(arguments,1))});b(c.prototype,"tooltipFooterHeaderFormatter",function(k,h,d){var e=h.series,v=e.tooltipOptions,
g=e.options.dataGrouping,l=v.xDateFormat,c,b=e.xAxis,J=a.dateFormat;return b&&"datetime"===b.options.type&&g&&p(h.key)?(k=e.currentDataGrouping,g=g.dateTimeLabelFormats,k?(b=g[k.unitName],1===k.count?l=b[0]:(l=b[1],c=b[2])):!l&&g&&(l=this.getXDateFormat(h,v,b)),l=J(l,h.key),c&&(l+=J(c,h.key+k.totalRange-1)),m(v[(d?"footer":"header")+"Format"],{point:F(h.point,{key:l}),series:e})):k.call(this,h,d)});f.destroy=function(){for(var a=this.groupedData||[],h=a.length;h--;)a[h]&&a[h].destroy();g.apply(this)};
b(f,"setOptions",function(a,g){a=a.call(this,g);var d=this.type,e=this.chart.options.plotOptions,v=x[d].dataGrouping;r[d]&&(v||(v=z(l,r[d])),a.dataGrouping=z(v,e.series&&e.series.dataGrouping,e[d].dataGrouping,g.dataGrouping));this.chart.options.isStock&&(this.requireSorting=!0);return a});b(B.prototype,"setScale",function(a){a.call(this);u(this.series,function(a){a.hasProcessed=!1})});B.prototype.getGroupPixelWidth=function(){var a=this.series,g=a.length,d,e=0,v=!1,w;for(d=g;d--;)(w=a[d].options.dataGrouping)&&
(e=Math.max(e,w.groupPixelWidth));for(d=g;d--;)(w=a[d].options.dataGrouping)&&a[d].hasProcessed&&(g=(a[d].processedXData||a[d].data).length,a[d].groupPixelWidth||g>this.chart.plotSizeX/e||g&&w.forced)&&(v=!0);return v?e:0};B.prototype.setDataGrouping=function(a,g){var d;g=G(g,!0);a||(a={forced:!1,units:null});if(this instanceof B)for(d=this.series.length;d--;)this.series[d].update({dataGrouping:a},!1);else u(this.chart.options.series,function(e){e.dataGrouping=a},!1);g&&this.chart.redraw()}})(H);
(function(a){var D=a.each,A=a.Point,B=a.seriesType,x=a.seriesTypes;B("ohlc","column",{lineWidth:1,tooltip:{pointFormat:'\x3cspan class\x3d"highcharts-color-{point.colorIndex}"\x3e\u25cf\x3c/span\x3e \x3cb\x3e {series.name}\x3c/b\x3e\x3cbr/\x3eOpen: {point.open}\x3cbr/\x3eHigh: {point.high}\x3cbr/\x3eLow: {point.low}\x3cbr/\x3eClose: {point.close}\x3cbr/\x3e'},threshold:null,stickyTracking:!0},{directTouch:!1,pointArrayMap:["open","high","low","close"],toYData:function(a){return[a.open,a.high,a.low,
a.close]},pointValKey:"close",translate:function(){var a=this,u=a.yAxis,A=!!a.modifyValue,m=["plotOpen","plotHigh","plotLow","plotClose","yBottom"];x.column.prototype.translate.apply(a);D(a.points,function(p){D([p.open,p.high,p.low,p.close,p.low],function(z,x){null!==z&&(A&&(z=a.modifyValue(z)),p[m[x]]=u.toPixels(z,!0))});p.tooltipPos[1]=p.plotHigh+u.pos-a.chart.plotTop})},drawPoints:function(){var a=this,x=a.chart;D(a.points,function(u){var m,p,z,G,q=u.graphic,c,b=!q;void 0!==u.plotY&&(q||(u.graphic=
q=x.renderer.path().add(a.group)),p=q.strokeWidth()%2/2,c=Math.round(u.plotX)-p,z=Math.round(u.shapeArgs.width/2),G=["M",c,Math.round(u.yBottom),"L",c,Math.round(u.plotHigh)],null!==u.open&&(m=Math.round(u.plotOpen)+p,G.push("M",c,m,"L",c-z,m)),null!==u.close&&(m=Math.round(u.plotClose)+p,G.push("M",c,m,"L",c+z,m)),q[b?"attr":"animate"]({d:G}).addClass(u.getClassName(),!0))})},animate:null},{getClassName:function(){return A.prototype.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":
" highcharts-point-down")}})})(H);(function(a){var D=a.defaultPlotOptions,A=a.each,B=a.merge;a=a.seriesType;a("candlestick","ohlc",B(D.column,{states:{hover:{lineWidth:2}},tooltip:D.ohlc.tooltip,threshold:null}),{drawPoints:function(){var a=this,B=a.chart;A(a.points,function(u){var x=u.graphic,m,p,z,G,q,c,b,f=!x;void 0!==u.plotY&&(x||(u.graphic=x=B.renderer.path().add(a.group)),q=x.strokeWidth()%2/2,c=Math.round(u.plotX)-q,m=u.plotOpen,p=u.plotClose,z=Math.min(m,p),m=Math.max(m,p),b=Math.round(u.shapeArgs.width/
2),p=Math.round(z)!==Math.round(u.plotHigh),G=m!==u.yBottom,z=Math.round(z)+q,m=Math.round(m)+q,q=[],q.push("M",c-b,m,"L",c-b,z,"L",c+b,z,"L",c+b,m,"Z","M",c,z,"L",c,p?Math.round(u.plotHigh):z,"M",c,m,"L",c,G?Math.round(u.yBottom):m),x[f?"attr":"animate"]({d:q}).addClass(u.getClassName(),!0))})}})})(H);var T=function(a){var D=a.each,A=a.seriesTypes,B=a.stableSort;return{translate:function(){A.column.prototype.translate.apply(this);var a=this.options,E=this.chart,u=this.points,F=u.length-1,m,p,z=a.onSeries;
m=z&&E.get(z);var a=a.onKey||"y",z=m&&m.options.step,G=m&&m.points,q=G&&G.length,c=this.xAxis,b=this.yAxis,f=c.getExtremes(),y=0,n,g,l;if(m&&m.visible&&q)for(y=(m.pointXOffset||0)+(m.barW||0)/2,m=m.currentDataGrouping,g=G[q-1].x+(m?m.totalRange:0),B(u,function(a,g){return a.x-g.x}),a="plot"+a[0].toUpperCase()+a.substr(1);q--&&u[F]&&!(m=u[F],n=G[q],n.x<=m.x&&void 0!==n[a]&&(m.x<=g&&(m.plotY=n[a],n.x<m.x&&!z&&(l=G[q+1])&&void 0!==l[a]&&(m.plotY+=(m.x-n.x)/(l.x-n.x)*(l[a]-n[a]))),F--,q++,0>F)););D(u,
function(a,g){var l;void 0===a.plotY&&(a.x>=f.min&&a.x<=f.max?a.plotY=E.chartHeight-c.bottom-(c.opposite?c.height:0)+c.offset-b.top:a.shapeArgs={});a.plotX+=y;(p=u[g-1])&&p.plotX===a.plotX&&(void 0===p.stackIndex&&(p.stackIndex=0),l=p.stackIndex+1);a.stackIndex=l})}}}(H);(function(a,D){var A=a.addEvent,B=a.each,x=a.noop,E=a.seriesType,u=a.TrackerMixin,F=a.SVGRenderer.prototype.symbols;E("flags","column",{pointRange:0,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}\x3cbr/\x3e"},
threshold:null,y:-30},{sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:a.Series.prototype.init,translate:D.translate,drawPoints:function(){var m=this.points,p=this.chart,z=p.renderer,u,q,c=this.options,b=c.y,f,y,n,g,l,r,C,t=this.yAxis;for(y=m.length;y--;)n=m[y],C=n.plotX>this.xAxis.len,u=n.plotX,g=n.stackIndex,f=n.options.shape||c.shape,q=n.plotY,void 0!==q&&(q=n.plotY+b-(void 0!==g&&g*c.stackDistance)),l=g?void 0:n.plotX,r=g?void 0:n.plotY,
g=n.graphic,void 0!==q&&0<=u&&!C?(g||(g=n.graphic=z.label("",null,null,f,null,null,c.useHTML).attr({align:"flag"===f?"left":"center",width:c.width,height:c.height,"text-align":c.textAlign}).addClass("highcharts-point").add(this.markerGroup),n.graphic.div&&(n.graphic.div.point=n)),0<u&&(u-=g.strokeWidth()%2),g.attr({text:n.options.title||c.title||"A",x:u,y:q,anchorX:l,anchorY:r}),n.tooltipPos=p.inverted?[t.len+t.pos-p.plotLeft-q,this.xAxis.len-u]:[u,q+t.pos-p.plotTop]):g&&(n.graphic=g.destroy());c.useHTML&&
a.wrap(this.markerGroup,"on",function(g){return a.SVGElement.prototype.on.apply(g.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})},drawTracker:function(){var a=this.points;u.drawTrackerPoint.apply(this);B(a,function(m){var p=m.graphic;p&&A(p.element,"mouseover",function(){0<m.stackIndex&&!m.raised&&(m._y=p.y,p.attr({y:m._y-8}),m.raised=!0);B(a,function(a){a!==m&&a.raised&&a.graphic&&(a.graphic.attr({y:a._y}),a.raised=!1)})})})},animate:x,buildKDTree:x,setClip:x});F.flag=function(a,
p,u,x,q){return["M",q&&q.anchorX||a,q&&q.anchorY||p,"L",a,p+x,a,p,a+u,p,a+u,p+x,a,p+x,"Z"]};B(["circle","square"],function(a){F[a+"pin"]=function(m,u,x,q,c){var b=c&&c.anchorX;c=c&&c.anchorY;"circle"===a&&q>x&&(m-=Math.round((q-x)/2),x=q);m=F[a](m,u,x,q);b&&c&&m.push("M",b,u>c?u:u+q,"L",b,c);return m}})})(H,T);(function(a){function D(a,l,c){this.init(a,l,c)}var A=a.addEvent,B=a.Axis,x=a.correctFloat,E=a.defaultOptions,u=a.defined,F=a.destroyObjectProperties,m=a.each,p=a.fireEvent,z=a.hasTouch,G=a.isTouchDevice,
q=a.merge,c=a.pick,b=a.removeEvent,f=a.wrap,y,n={height:G?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:a.svg&&!G,margin:10,minWidth:6,step:.2,zIndex:3};E.scrollbar=q(!0,n,E.scrollbar);a.swapXY=y=function(a,l){var g=a.length,c;if(l)for(l=0;l<g;l+=3)c=a[l+1],a[l+1]=a[l+2],a[l+2]=c;return a};D.prototype={init:function(a,l,b){this.scrollbarButtons=[];this.renderer=a;this.userOptions=l;this.options=q(n,l);this.chart=b;this.size=c(this.options.size,this.options.height);l.enabled&&(this.render(),
this.initEvents(),this.addEvents())},render:function(){var a=this.renderer,l=this.options,c=this.size,b;this.group=b=a.g("scrollbar").attr({zIndex:l.zIndex,translateY:-99999}).add();this.track=a.rect().addClass("highcharts-scrollbar-track").attr({x:0,r:l.trackBorderRadius||0,height:c,width:c}).add(b);this.trackBorderWidth=this.track.strokeWidth();this.track.attr({y:-this.trackBorderWidth%2/2});this.scrollbarGroup=a.g().add(b);this.scrollbar=a.rect().addClass("highcharts-scrollbar-thumb").attr({height:c,
width:c,r:l.barBorderRadius||0}).add(this.scrollbarGroup);this.scrollbarRifles=a.path(y(["M",-3,c/4,"L",-3,2*c/3,"M",0,c/4,"L",0,2*c/3,"M",3,c/4,"L",3,2*c/3],l.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup);this.scrollbarStrokeWidth=this.scrollbar.strokeWidth();this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2);this.drawScrollbarButton(0);this.drawScrollbarButton(1)},position:function(a,l,c,b){var g=this.options.vertical,k=0,h=
this.rendered?"animate":"attr";this.x=a;this.y=l+this.trackBorderWidth;this.width=c;this.xOffset=this.height=b;this.yOffset=k;g?(this.width=this.yOffset=c=k=this.size,this.xOffset=l=0,this.barWidth=b-2*c,this.x=a+=this.options.margin):(this.height=this.xOffset=b=l=this.size,this.barWidth=c-2*b,this.y+=this.options.margin);this.group[h]({translateX:a,translateY:this.y});this.track[h]({width:c,height:b});this.scrollbarButtons[1][h]({translateX:g?0:c-l,translateY:g?b-k:0})},drawScrollbarButton:function(a){var g=
this.renderer,c=this.scrollbarButtons,b=this.options,f=this.size,k;k=g.g().add(this.group);c.push(k);k=g.rect().addClass("highcharts-scrollbar-button").add(k);k.attr(k.crisp({x:-.5,y:-.5,width:f+1,height:f+1,r:b.buttonBorderRadius},k.strokeWidth()));g.path(y(["M",f/2+(a?-1:1),f/2-3,"L",f/2+(a?-1:1),f/2+3,"L",f/2+(a?2:-2),f/2],b.vertical)).addClass("highcharts-scrollbar-arrow").add(c[a])},setRange:function(a,l){var g=this.options,c=g.vertical,b=g.minWidth,k=this.barWidth,h,d,e=this.rendered&&!this.hasDragged?
"animate":"attr";u(k)&&(a=Math.max(a,0),h=Math.ceil(k*a),this.calculatedWidth=d=x(k*Math.min(l,1)-h),d<b&&(h=(k-b+d)*a,d=b),b=Math.floor(h+this.xOffset+this.yOffset),k=d/2-.5,this.from=a,this.to=l,c?(this.scrollbarGroup[e]({translateY:b}),this.scrollbar[e]({height:d}),this.scrollbarRifles[e]({translateY:k}),this.scrollbarTop=b,this.scrollbarLeft=0):(this.scrollbarGroup[e]({translateX:b}),this.scrollbar[e]({width:d}),this.scrollbarRifles[e]({translateX:k}),this.scrollbarLeft=b,this.scrollbarTop=0),
12>=d?this.scrollbarRifles.hide():this.scrollbarRifles.show(!0),!1===g.showFull&&(0>=a&&1<=l?this.group.hide():this.group.show()),this.rendered=!0)},initEvents:function(){var a=this;a.mouseMoveHandler=function(c){var l=a.chart.pointer.normalize(c),b=a.options.vertical?"chartY":"chartX",g=a.initPositions;!a.grabbedCenter||c.touches&&0===c.touches[0][b]||(l=a.cursorToScrollbarPosition(l)[b],b=a[b],b=l-b,a.hasDragged=!0,a.updatePosition(g[0]+b,g[1]+b),a.hasDragged&&p(a,"changed",{from:a.from,to:a.to,
trigger:"scrollbar",DOMType:c.type,DOMEvent:c}))};a.mouseUpHandler=function(c){a.hasDragged&&p(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMType:c.type,DOMEvent:c});a.grabbedCenter=a.hasDragged=a.chartX=a.chartY=null};a.mouseDownHandler=function(c){c=a.chart.pointer.normalize(c);c=a.cursorToScrollbarPosition(c);a.chartX=c.chartX;a.chartY=c.chartY;a.initPositions=[a.from,a.to];a.grabbedCenter=!0};a.buttonToMinClick=function(c){var b=x(a.to-a.from)*a.options.step;a.updatePosition(x(a.from-
b),x(a.to-b));p(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMEvent:c})};a.buttonToMaxClick=function(c){var b=(a.to-a.from)*a.options.step;a.updatePosition(a.from+b,a.to+b);p(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMEvent:c})};a.trackClick=function(c){var b=a.chart.pointer.normalize(c),g=a.to-a.from,l=a.y+a.scrollbarTop,k=a.x+a.scrollbarLeft;a.options.vertical&&b.chartY>l||!a.options.vertical&&b.chartX>k?a.updatePosition(a.from+g,a.to+g):a.updatePosition(a.from-g,a.to-g);
p(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMEvent:c})}},cursorToScrollbarPosition:function(a){var c=this.options,c=c.minWidth>this.calculatedWidth?c.minWidth:0;return{chartX:(a.chartX-this.x-this.xOffset)/(this.barWidth-c),chartY:(a.chartY-this.y-this.yOffset)/(this.barWidth-c)}},updatePosition:function(a,c){1<c&&(a=x(1-x(c-a)),c=1);0>a&&(c=x(c-a),a=0);this.from=a;this.to=c},update:function(a){this.destroy();this.init(this.chart.renderer,q(!0,this.options,a),this.chart)},addEvents:function(){var a=
this.options.inverted?[1,0]:[0,1],c=this.scrollbarButtons,b=this.scrollbarGroup.element,f=this.mouseDownHandler,n=this.mouseMoveHandler,k=this.mouseUpHandler,a=[[c[a[0]].element,"click",this.buttonToMinClick],[c[a[1]].element,"click",this.buttonToMaxClick],[this.track.element,"click",this.trackClick],[b,"mousedown",f],[b.ownerDocument,"mousemove",n],[b.ownerDocument,"mouseup",k]];z&&a.push([b,"touchstart",f],[b.ownerDocument,"touchmove",n],[b.ownerDocument,"touchend",k]);m(a,function(a){A.apply(null,
a)});this._events=a},removeEvents:function(){m(this._events,function(a){b.apply(null,a)});this._events.length=0},destroy:function(){var a=this.chart.scroller;this.removeEvents();m(["track","scrollbarRifles","scrollbar","scrollbarGroup","group"],function(a){this[a]&&this[a].destroy&&(this[a]=this[a].destroy())},this);a&&this===a.scrollbar&&(a.scrollbar=null,F(a.scrollbarButtons))}};f(B.prototype,"init",function(a){var b=this;a.apply(b,Array.prototype.slice.call(arguments,1));b.options.scrollbar&&b.options.scrollbar.enabled&&
(b.options.scrollbar.vertical=!b.horiz,b.options.startOnTick=b.options.endOnTick=!1,b.scrollbar=new D(b.chart.renderer,b.options.scrollbar,b.chart),A(b.scrollbar,"changed",function(a){var g=Math.min(c(b.options.min,b.min),b.min,b.dataMin),f=Math.max(c(b.options.max,b.max),b.max,b.dataMax)-g,k;b.horiz&&!b.reversed||!b.horiz&&b.reversed?(k=g+f*this.to,g+=f*this.from):(k=g+f*(1-this.from),g+=f*(1-this.to));b.setExtremes(g,k,!0,!1,a)}))});f(B.prototype,"render",function(a){var b=Math.min(c(this.options.min,
this.min),this.min,c(this.dataMin,this.min)),g=Math.max(c(this.options.max,this.max),this.max,c(this.dataMax,this.max)),f=this.scrollbar,m=this.titleOffset||0;a.apply(this,Array.prototype.slice.call(arguments,1));if(f){this.horiz?(f.position(this.left,this.top+this.height+2+this.chart.scrollbarsOffsets[1]+(this.opposite?0:m+this.axisTitleMargin+this.offset),this.width,this.height),m=1):(f.position(this.left+this.width+2+this.chart.scrollbarsOffsets[0]+(this.opposite?m+this.axisTitleMargin+this.offset:
0),this.top,this.width,this.height),m=0);if(!this.opposite&&!this.horiz||this.opposite&&this.horiz)this.chart.scrollbarsOffsets[m]+=this.scrollbar.size+this.scrollbar.options.margin;isNaN(b)||isNaN(g)||!u(this.min)||!u(this.max)?f.setRange(0,0):(m=(this.min-b)/(g-b),b=(this.max-b)/(g-b),this.horiz&&!this.reversed||!this.horiz&&this.reversed?f.setRange(m,b):f.setRange(1-b,1-m))}});f(B.prototype,"getOffset",function(a){var b=this.horiz?2:1,c=this.scrollbar;a.apply(this,Array.prototype.slice.call(arguments,
1));c&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[b]+=c.size+c.options.margin)});f(B.prototype,"destroy",function(a){this.scrollbar&&(this.scrollbar=this.scrollbar.destroy());a.apply(this,Array.prototype.slice.call(arguments,1))});a.Scrollbar=D})(H);(function(a){function D(a){this.init(a)}var A=a.addEvent,B=a.Axis,x=a.Chart,E=a.defaultOptions,u=a.defined,F=a.destroyObjectProperties,m=a.each,p=a.erase,z=a.error,G=a.extend,q=a.grep,c=a.hasTouch,b=a.isArray,f=a.isNumber,y=a.isObject,n=
a.merge,g=a.pick,l=a.removeEvent,r=a.Scrollbar,C=a.Series,t=a.seriesTypes,k=a.wrap,h=[].concat(a.defaultDataGroupingUnits),d=function(a){var e=q(arguments,f);if(e.length)return Math[a].apply(0,e)};h[4]=["day",[1,2,3,4]];h[5]=["week",[1,2,3]];G(E,{navigator:{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0},series:{type:void 0===t.areaspline?"line":"areaspline",compare:null,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,
smoothed:!0,units:h},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},pointRange:0,threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,tickPixelInterval:200,labels:{align:"left",x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}});
a.Renderer.prototype.symbols["navigator-handle"]=function(a,v,d,b,c){a=c.width/2;v=Math.round(a/3)+.5;c=c.height;return["M",-a-1,.5,"L",a,.5,"L",a,c+.5,"L",-a-1,c+.5,"L",-a-1,.5,"M",-v,4,"L",-v,c-3,"M",v-1,4,"L",v-1,c-3]};D.prototype={drawHandle:function(a,v,d,b){var e=this.navigatorOptions.handles.height;this.handles[v][b](d?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(a,10)+.5-e)}:{translateX:Math.round(this.left+parseInt(a,10)),translateY:Math.round(this.top+
this.height/2-e/2-1)})},drawOutline:function(a,v,d,b){var e=this.navigatorOptions.maskInside,c=this.outline.strokeWidth(),k=c/2,c=c%2/2,h=this.outlineHeight,w=this.scrollbarHeight,g=this.size,f=this.left-w,l=this.top;d?(f-=k,d=l+v+c,v=l+a+c,a=["M",f+h,l-w-c,"L",f+h,d,"L",f,d,"L",f,v,"L",f+h,v,"L",f+h,l+g+w].concat(e?["M",f+h,d-k,"L",f+h,v+k]:[])):(a+=f+w-c,v+=f+w-c,l+=k,a=["M",f,l,"L",a,l,"L",a,l+h,"L",v,l+h,"L",v,l,"L",f+g+2*w,l].concat(e?["M",a-k,l,"L",v+k,l]:[]));this.outline[b]({d:a})},drawMasks:function(a,
v,d,c){var e=this.left,b=this.top,h=this.height,k,w,f,g;d?(f=[e,e,e],g=[b,b+a,b+v],w=[h,h,h],k=[a,v-a,this.size-v]):(f=[e,e+a,e+v],g=[b,b,b],w=[a,v-a,this.size-v],k=[h,h,h]);m(this.shades,function(a,e){a[c]({x:f[e],y:g[e],width:w[e],height:k[e]})})},renderElements:function(){var a=this,v=a.navigatorOptions,d=v.maskInside,b=a.chart,c=b.renderer,h;a.navigatorGroup=h=c.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();m([!d,d,!d],function(e,v){a.shades[v]=c.rect().addClass("highcharts-navigator-mask"+
(1===v?"-inside":"-outside")).add(h)});a.outline=c.path().addClass("highcharts-navigator-outline").add(h);v.handles.enabled&&m([0,1],function(e){v.handles.inverted=b.inverted;a.handles[e]=c.symbol(v.handles.symbols[e],-v.handles.width/2-1,0,v.handles.width,v.handles.height,v.handles);a.handles[e].attr({zIndex:7-e}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][e]).add(h)})},update:function(a){m(this.series||[],function(a){a.baseSeries&&delete a.baseSeries.navigatorSeries});
this.destroy();n(!0,this.chart.options.navigator,this.options,a);this.init(this.chart)},render:function(e,v,d,b){var c=this.chart,h,k,w=this.scrollbarHeight,l,m=this.xAxis;h=m.fake?c.xAxis[0]:m;var Q=this.navigatorEnabled,n,p=this.rendered;k=c.inverted;var r,q=c.xAxis[0].minRange,t=c.xAxis[0].options.maxRange;if(!this.hasDragged||u(d)){if(!f(e)||!f(v))if(p)d=0,b=m.width;else return;this.left=g(m.left,c.plotLeft+w+(k?c.plotWidth:0));this.size=n=l=g(m.len,(k?c.plotHeight:c.plotWidth)-2*w);c=k?w:l+2*
w;d=g(d,m.toPixels(e,!0));b=g(b,m.toPixels(v,!0));f(d)&&Infinity!==Math.abs(d)||(d=0,b=c);e=m.toValue(d,!0);v=m.toValue(b,!0);r=Math.abs(a.correctFloat(v-e));r<q?this.grabbedLeft?d=m.toPixels(v-q,!0):this.grabbedRight&&(b=m.toPixels(e+q,!0)):u(t)&&r>t&&(this.grabbedLeft?d=m.toPixels(v-t,!0):this.grabbedRight&&(b=m.toPixels(e+t,!0)));this.zoomedMax=Math.min(Math.max(d,b,0),n);this.zoomedMin=Math.min(Math.max(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(d,b),0),n);this.range=this.zoomedMax-
this.zoomedMin;n=Math.round(this.zoomedMax);d=Math.round(this.zoomedMin);Q&&(this.navigatorGroup.attr({visibility:"visible"}),p=p&&!this.hasDragged?"animate":"attr",this.drawMasks(d,n,k,p),this.drawOutline(d,n,k,p),this.navigatorOptions.handles.enabled&&(this.drawHandle(d,0,k,p),this.drawHandle(n,1,k,p)));this.scrollbar&&(k?(k=this.top-w,h=this.left-w+(Q||!h.opposite?0:(h.titleOffset||0)+h.axisTitleMargin),w=l+2*w):(k=this.top+(Q?this.height:-w),h=this.left-w),this.scrollbar.position(h,k,c,w),this.scrollbar.setRange(this.zoomedMin/
l,this.zoomedMax/l));this.rendered=!0}},addMouseEvents:function(){var a=this,d=a.chart,b=d.container,h=[],k,f;a.mouseMoveHandler=k=function(e){a.onMouseMove(e)};a.mouseUpHandler=f=function(e){a.onMouseUp(e)};h=a.getPartsEvents("mousedown");h.push(A(b,"mousemove",k),A(b.ownerDocument,"mouseup",f));c&&(h.push(A(b,"touchmove",k),A(b.ownerDocument,"touchend",f)),h.concat(a.getPartsEvents("touchstart")));a.eventsToUnbind=h;a.series&&a.series[0]&&h.push(A(a.series[0].xAxis,"foundExtremes",function(){d.navigator.modifyNavigatorAxisExtremes()}))},
getPartsEvents:function(a){var e=this,d=[];m(["shades","handles"],function(b){m(e[b],function(c,v){d.push(A(c.element,a,function(a){e[b+"Mousedown"](a,v)}))})});return d},shadesMousedown:function(a,d){a=this.chart.pointer.normalize(a);var e=this.chart,b=this.xAxis,c=this.zoomedMin,v=this.left,h=this.size,k=this.range,f=a.chartX,g;e.inverted&&(f=a.chartY,v=this.top);1===d?(this.grabbedCenter=f,this.fixedWidth=k,this.dragOffset=f-c):(a=f-v-k/2,0===d?a=Math.max(0,a):2===d&&a+k>=h&&(a=h-k,g=this.getUnionExtremes().dataMax),
a!==c&&(this.fixedWidth=k,d=b.toFixedRange(a,a+k,null,g),e.xAxis[0].setExtremes(Math.min(d.min,d.max),Math.max(d.min,d.max),!0,null,{trigger:"navigator"})))},handlesMousedown:function(a,d){this.chart.pointer.normalize(a);a=this.chart;var e=a.xAxis[0],b=a.inverted&&!e.reversed||!a.inverted&&e.reversed;0===d?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=b?e.min:e.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=b?e.max:e.min);a.fixedRange=null},
onMouseMove:function(a){var e=this,d=e.chart,b=e.left,c=e.navigatorSize,h=e.range,k=e.dragOffset,f=d.inverted;a.touches&&0===a.touches[0].pageX||(a=d.pointer.normalize(a),d=a.chartX,f&&(b=e.top,d=a.chartY),e.grabbedLeft?(e.hasDragged=!0,e.render(0,0,d-b,e.otherHandlePos)):e.grabbedRight?(e.hasDragged=!0,e.render(0,0,e.otherHandlePos,d-b)):e.grabbedCenter&&(e.hasDragged=!0,d<k?d=k:d>c+k-h&&(d=c+k-h),e.render(0,0,d-k,d-k+h)),e.hasDragged&&e.scrollbar&&e.scrollbar.options.liveRedraw&&(a.DOMType=a.type,
setTimeout(function(){e.onMouseUp(a)},0)))},onMouseUp:function(a){var e=this.chart,d=this.xAxis,b=this.scrollbar,c,h,k=a.DOMEvent||a;(!this.hasDragged||b&&b.hasDragged)&&"scrollbar"!==a.trigger||(this.zoomedMin===this.otherHandlePos?c=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(h=this.fixedExtreme),this.zoomedMax===this.size&&(h=this.getUnionExtremes().dataMax),d=d.toFixedRange(this.zoomedMin,this.zoomedMax,c,h),u(d.min)&&e.xAxis[0].setExtremes(Math.min(d.min,d.max),Math.max(d.min,d.max),
!0,this.hasDragged?!1:null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:k}));"mousemove"!==a.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null)},removeEvents:function(){this.eventsToUnbind&&(m(this.eventsToUnbind,function(a){a()}),this.eventsToUnbind=void 0);this.removeBaseSeriesEvents()},removeBaseSeriesEvents:function(){var a=this.baseSeries||[];this.navigatorEnabled&&a[0]&&(!1!==
this.navigatorOptions.adaptToUpdatedData&&m(a,function(a){l(a,"updatedData",this.updatedDataHandler)},this),a[0].xAxis&&l(a[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},init:function(a){var e=a.options,b=e.navigator,c=b.enabled,h=e.scrollbar,f=h.enabled,e=c?b.height:0,l=f?h.height:0;this.handles=[];this.shades=[];this.chart=a;this.setBaseSeries();this.height=e;this.scrollbarHeight=l;this.scrollbarEnabled=f;this.navigatorEnabled=c;this.navigatorOptions=b;this.scrollbarOptions=h;this.outlineHeight=
e+l;this.opposite=g(b.opposite,!c&&a.inverted);var m=this,h=m.baseSeries,f=a.xAxis.length,p=a.yAxis.length,u=h&&h[0]&&h[0].xAxis||a.xAxis[0];a.extraMargin={type:m.opposite?"plotTop":"marginBottom",value:(c||!a.inverted?m.outlineHeight:0)+b.margin};a.inverted&&(a.extraMargin.type=m.opposite?"marginRight":"plotLeft");a.isDirtyBox=!0;m.navigatorEnabled?(m.xAxis=new B(a,n({breaks:u.options.breaks,ordinal:u.options.ordinal},b.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",
index:f,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},a.inverted?{offsets:[l,0,-l,0],width:e}:{offsets:[0,-l,0,l],height:e})),m.yAxis=new B(a,n(b.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:p,zoomEnabled:!1},a.inverted?{width:e}:{height:e})),h||b.series.data?m.updateNavigatorSeries():0===a.series.length&&k(a,"redraw",function(e,d){0<a.series.length&&!m.series&&(m.setBaseSeries(),a.redraw=e);e.call(a,d)}),m.renderElements(),m.addMouseEvents()):
m.xAxis={translate:function(e,b){var c=a.xAxis[0],h=c.getExtremes(),k=c.len-2*l,v=d("min",c.options.min,h.dataMin),c=d("max",c.options.max,h.dataMax)-v;return b?e*c/k+v:k*(e-v)/c},toPixels:function(a){return this.translate(a)},toValue:function(a){return this.translate(a,!0)},toFixedRange:B.prototype.toFixedRange,fake:!0};a.options.scrollbar.enabled&&(a.scrollbar=m.scrollbar=new r(a.renderer,n(a.options.scrollbar,{margin:m.navigatorEnabled?0:10,vertical:a.inverted}),a),A(m.scrollbar,"changed",function(e){var d=
m.size,b=d*this.to,d=d*this.from;m.hasDragged=m.scrollbar.hasDragged;m.render(0,0,d,b);(a.options.scrollbar.liveRedraw||"mousemove"!==e.DOMType)&&setTimeout(function(){m.onMouseUp(e)})}));m.addBaseSeriesEvents();m.addChartEvents()},getUnionExtremes:function(a){var e=this.chart.xAxis[0],b=this.xAxis,c=b.options,h=e.options,k;a&&null===e.dataMin||(k={dataMin:g(c&&c.min,d("min",h.min,e.dataMin,b.dataMin,b.min)),dataMax:g(c&&c.max,d("max",h.max,e.dataMax,b.dataMax,b.max))});return k},setBaseSeries:function(a,
d){var e=this.chart,b=this.baseSeries=[];a=a||e.options&&e.options.navigator.baseSeries||0;m(e.series||[],function(e,d){e.options.isInternal||!e.options.showInNavigator&&(d!==a&&e.options.id!==a||!1===e.options.showInNavigator)||b.push(e)});this.xAxis&&!this.xAxis.fake&&this.updateNavigatorSeries(d)},updateNavigatorSeries:function(e){var d=this,c=d.chart,h=d.baseSeries,k,f,g=d.navigatorOptions.series,p,u={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",
yAxis:"navigator-y-axis",showInLegend:!1,stacking:!1,isInternal:!0,visible:!0},r=d.series=a.grep(d.series||[],function(e){var b=e.baseSeries;return 0>a.inArray(b,h)?(b&&(l(b,"updatedData",d.updatedDataHandler),delete b.navigatorSeries),e.destroy(),!1):!0});h&&h.length&&m(h,function(a){var v=a.navigatorSeries,w=G({color:a.color},b(g)?E.navigator.series:g);v&&!1===d.navigatorOptions.adaptToUpdatedData||(u.name="Navigator "+h.length,k=a.options||{},p=k.navigatorOptions||{},f=n(k,u,w,p),w=p.data||w.data,
d.hasNavigatorData=d.hasNavigatorData||!!w,f.data=w||k.data&&k.data.slice(0),v&&v.options?v.update(f,e):(a.navigatorSeries=c.initSeries(f),a.navigatorSeries.baseSeries=a,r.push(a.navigatorSeries)))});if(g.data&&(!h||!h.length)||b(g))d.hasNavigatorData=!1,g=a.splat(g),m(g,function(a,e){u.name="Navigator "+(r.length+1);f=n(E.navigator.series,{color:c.series[e]&&!c.series[e].options.isInternal&&c.series[e].color||c.options.colors[e]||c.options.colors[0]},u,a);f.data=a.data;f.data&&(d.hasNavigatorData=
!0,r.push(c.initSeries(f)))});this.addBaseSeriesEvents()},addBaseSeriesEvents:function(){var a=this,d=a.baseSeries||[];d[0]&&d[0].xAxis&&A(d[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes);m(d,function(e){A(e,"show",function(){this.navigatorSeries&&this.navigatorSeries.show()});A(e,"hide",function(){this.navigatorSeries&&this.navigatorSeries.hide()});!1!==this.navigatorOptions.adaptToUpdatedData&&e.xAxis&&A(e,"updatedData",this.updatedDataHandler);A(e,"remove",function(){this.navigatorSeries&&
(p(a.series,this.navigatorSeries),this.navigatorSeries.remove(!1),delete this.navigatorSeries)})},this)},modifyNavigatorAxisExtremes:function(){var a=this.xAxis,d;a.getExtremes&&(!(d=this.getUnionExtremes(!0))||d.dataMin===a.min&&d.dataMax===a.max||(a.min=d.dataMin,a.max=d.dataMax))},modifyBaseAxisExtremes:function(){var a=this.chart.navigator,d=this.getExtremes(),b=d.dataMin,c=d.dataMax,d=d.max-d.min,h=a.stickToMin,k=a.stickToMax,g=this.options.overscroll,l,m,n=a.series&&a.series[0],p=!!this.setExtremes;
this.eventArgs&&"rangeSelectorButton"===this.eventArgs.trigger||(h&&(m=b,l=m+d),k&&(l=c+g,h||(m=Math.max(l-d,n&&n.xData?n.xData[0]:-Number.MAX_VALUE))),p&&(h||k)&&f(m)&&(this.min=this.userMin=m,this.max=this.userMax=l));a.stickToMin=a.stickToMax=null},updatedDataHandler:function(){var a=this.chart.navigator,d=this.navigatorSeries;a.stickToMax=Math.round(a.zoomedMax)>=Math.round(a.size);a.stickToMin=f(this.xAxis.min)&&this.xAxis.min<=this.xData[0]&&(!this.chart.fixedRange||!a.stickToMax);d&&!a.hasNavigatorData&&
(d.options.pointStart=this.xData[0],d.setData(this.options.data,!1,null,!1))},addChartEvents:function(){A(this.chart,"redraw",function(){var a=this.navigator,d=a&&(a.baseSeries&&a.baseSeries[0]&&a.baseSeries[0].xAxis||a.scrollbar&&this.xAxis[0]);d&&a.render(d.min,d.max)})},destroy:function(){this.removeEvents();this.xAxis&&(p(this.chart.xAxis,this.xAxis),p(this.chart.axes,this.xAxis));this.yAxis&&(p(this.chart.yAxis,this.yAxis),p(this.chart.axes,this.yAxis));m(this.series||[],function(a){a.destroy&&
a.destroy()});m("series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" "),function(a){this[a]&&this[a].destroy&&this[a].destroy();this[a]=null},this);m([this.handles],function(a){F(a)},this)}};a.Navigator=D;k(B.prototype,"zoom",function(a,d,b){var e=this.chart,c=e.options,h=c.chart.zoomType,k=c.navigator,c=c.rangeSelector,f;this.isXAxis&&(k&&k.enabled||c&&c.enabled)&&("x"===h?e.resetZoomButton="blocked":"y"===h?f=!1:"xy"===h&&(e=
this.previousZoom,u(d)?this.previousZoom=[this.min,this.max]:e&&(d=e[0],b=e[1],delete this.previousZoom)));return void 0!==f?f:a.call(this,d,b)});k(x.prototype,"init",function(a,d,b){A(this,"beforeRender",function(){var a=this.options;if(a.navigator.enabled||a.scrollbar.enabled)this.scroller=this.navigator=new D(this)});a.call(this,d,b)});k(x.prototype,"setChartSize",function(a){var d=this.legend,e=this.navigator,b,c,h,k;a.apply(this,[].slice.call(arguments,1));e&&(c=d&&d.options,h=e.xAxis,k=e.yAxis,
b=e.scrollbarHeight,this.inverted?(e.left=e.opposite?this.chartWidth-b-e.height:this.spacing[3]+b,e.top=this.plotTop+b):(e.left=this.plotLeft+b,e.top=e.navigatorOptions.top||this.chartHeight-e.height-b-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(c&&"bottom"===c.verticalAlign&&c.enabled&&!c.floating?d.legendHeight+g(c.margin,10):0)),h&&k&&(this.inverted?h.options.left=k.options.left=e.left:h.options.top=k.options.top=e.top,h.setAxisSize(),k.setAxisSize()))});
k(C.prototype,"addPoint",function(a,d,b,c,h){var e=this.options.turboThreshold;e&&this.xData.length>e&&y(d,!0)&&this.chart.navigator&&z(20,!0);a.call(this,d,b,c,h)});k(x.prototype,"addSeries",function(a,d,b,c){a=a.call(this,d,!1,c);this.navigator&&this.navigator.setBaseSeries(null,!1);g(b,!0)&&this.redraw();return a});k(C.prototype,"update",function(a,d,b){a.call(this,d,!1);this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1);g(b,!0)&&this.chart.redraw()});x.prototype.callbacks.push(function(a){var d=
a.navigator;d&&(a=a.xAxis[0].getExtremes(),d.render(a.min,a.max))})})(H);(function(a){function D(a){this.init(a)}var A=a.addEvent,B=a.Axis,x=a.Chart,E=a.css,u=a.createElement,F=a.dateFormat,m=a.defaultOptions,p=m.global.useUTC,z=a.defined,G=a.destroyObjectProperties,q=a.discardElement,c=a.each,b=a.extend,f=a.fireEvent,y=a.Date,n=a.isNumber,g=a.merge,l=a.pick,r=a.pInt,C=a.splat,t=a.wrap;b(m,{rangeSelector:{verticalAlign:"top",buttonTheme:{"stroke-width":0,width:28,height:18,padding:2,zIndex:7},floating:!1,
x:0,y:0,height:void 0,inputPosition:{align:"right",x:0,y:0},buttonPosition:{align:"left",x:0,y:0}}});m.lang=g(m.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"});D.prototype={clickButton:function(a,b){var d=this,e=d.chart,h=d.buttonOptions[a],k=e.xAxis[0],f=e.scroller&&e.scroller.getUnionExtremes()||k||{},g=f.dataMin,m=f.dataMax,u,r=k&&Math.round(Math.min(k.max,l(m,k.max))),q=h.type,t,f=h._range,x,y,z,D=h.dataGrouping;if(null!==g&&null!==m){e.fixedRange=f;D&&(this.forcedDataGrouping=
!0,B.prototype.setDataGrouping.call(k||{chart:this.chart},D,!1));if("month"===q||"year"===q)k?(q={range:h,max:r,dataMin:g,dataMax:m},u=k.minFromRange.call(q),n(q.newMax)&&(r=q.newMax)):f=h;else if(f)u=Math.max(r-f,g),r=Math.min(u+f,m);else if("ytd"===q)if(k)void 0===m&&(g=Number.MAX_VALUE,m=Number.MIN_VALUE,c(e.series,function(a){a=a.xData;g=Math.min(a[0],g);m=Math.max(a[a.length-1],m)}),b=!1),r=d.getYTDExtremes(m,g,p),u=x=r.min,r=r.max;else{A(e,"beforeRender",function(){d.clickButton(a)});return}else"all"===
q&&k&&(u=g,r=m);u+=h._offsetMin;r+=h._offsetMax;d.setSelected(a);k?k.setExtremes(u,r,l(b,1),null,{trigger:"rangeSelectorButton",rangeSelectorButton:h}):(t=C(e.options.xAxis)[0],z=t.range,t.range=f,y=t.min,t.min=x,A(e,"load",function(){t.range=z;t.min=y}))}},setSelected:function(a){this.selected=this.options.selected=a},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",
text:"All"}],init:function(a){var b=this,d=a.options.rangeSelector,e=d.buttons||[].concat(b.defaultButtons),k=d.selected,g=function(){var a=b.minInput,d=b.maxInput;a&&a.blur&&f(a,"blur");d&&d.blur&&f(d,"blur")};b.chart=a;b.options=d;b.buttons=[];a.extraTopMargin=d.height;b.buttonOptions=e;this.unMouseDown=A(a.container,"mousedown",g);this.unResize=A(a,"resize",g);c(e,b.computeButtonRange);void 0!==k&&e[k]&&this.clickButton(k,!1);A(a,"load",function(){A(a.xAxis[0],"setExtremes",function(d){this.max-
this.min!==a.fixedRange&&"rangeSelectorButton"!==d.trigger&&"updatedData"!==d.trigger&&b.forcedDataGrouping&&this.setDataGrouping(!1,!1)})})},updateButtonStates:function(){var a=this.chart,b=a.xAxis[0],d=Math.round(b.max-b.min),e=!b.hasVisibleSeries,a=a.scroller&&a.scroller.getUnionExtremes()||b,f=a.dataMin,g=a.dataMax,a=this.getYTDExtremes(g,f,p),m=a.min,l=a.max,u=this.selected,r=n(u),q=this.options.allButtonsEnabled,t=this.buttons;c(this.buttonOptions,function(a,c){var h=a._range,k=a.type,v=a.count||
1,w=t[c],n=0;a=a._offsetMax-a._offsetMin;c=c===u;var p=h>g-f,J=h<b.minRange,x=!1,L=!1,h=h===d;("month"===k||"year"===k)&&d>=864E5*{month:28,year:365}[k]*v+a&&d<=864E5*{month:31,year:366}[k]*v+a?h=!0:"ytd"===k?(h=l-m+a===d,x=!c):"all"===k&&(h=b.max-b.min>=g-f,L=!c&&r&&h);k=!q&&(p||J||L||e);v=c&&h||h&&!r&&!x;k?n=3:v&&(r=!0,n=2);w.state!==n&&w.setState(n)})},computeButtonRange:function(a){var b=a.type,d=a.count||1,e={millisecond:1,second:1E3,minute:6E4,hour:36E5,day:864E5,week:6048E5};if(e[b])a._range=
e[b]*d;else if("month"===b||"year"===b)a._range=864E5*{month:30,year:365}[b]*d;a._offsetMin=l(a.offsetMin,0);a._offsetMax=l(a.offsetMax,0);a._range+=a._offsetMax-a._offsetMin},setInputValue:function(a,b){var d=this.chart.options.rangeSelector,e=this[a+"Input"];z(b)&&(e.previousValue=e.HCTime,e.HCTime=b);e.value=F(d.inputEditDateFormat||"%Y-%m-%d",e.HCTime);this[a+"DateBox"].attr({text:F(d.inputDateFormat||"%b %e, %Y",e.HCTime)})},showInput:function(a){var b=this.inputGroup,d=this[a+"DateBox"];E(this[a+
"Input"],{left:b.translateX+d.x+"px",top:b.translateY+"px",width:d.width-2+"px",height:d.height-2+"px",border:"2px solid silver"})},hideInput:function(a){E(this[a+"Input"],{border:0,width:"1px",height:"1px"});this.setInputValue(a)},drawInput:function(a){function b(){var a=l.value,b=(k.inputDateParser||Date.parse)(a),c=e.xAxis[0],h=e.scroller&&e.scroller.xAxis?e.scroller.xAxis:c,f=h.dataMin,h=h.dataMax;b!==l.previousValue&&(l.previousValue=b,n(b)||(b=a.split("-"),b=Date.UTC(r(b[0]),r(b[1])-1,r(b[2]))),
n(b)&&(p||(b+=6E4*(new Date).getTimezoneOffset()),g?b>d.maxInput.HCTime?b=void 0:b<f&&(b=f):b<d.minInput.HCTime?b=void 0:b>h&&(b=h),void 0!==b&&c.setExtremes(g?b:c.min,g?c.max:b,void 0,void 0,{trigger:"rangeSelectorInput"})))}var d=this,e=d.chart,c=e.renderer,k=e.options.rangeSelector,f=d.div,g="min"===a,l,q,t=this.inputGroup;this[a+"Label"]=q=c.label(m.lang[g?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).addClass("highcharts-range-label").attr({padding:2}).add(t);t.offset+=q.width+
5;this[a+"DateBox"]=c=c.label("",t.offset).addClass("highcharts-range-input").attr({padding:2,width:k.inputBoxWidth||90,height:k.inputBoxHeight||17,stroke:k.inputBoxBorderColor||"#cccccc","stroke-width":1,"text-align":"center"}).on("click",function(){d.showInput(a);d[a+"Input"].focus()}).add(t);t.offset+=c.width+(g?10:0);this[a+"Input"]=l=u("input",{name:a,className:"highcharts-range-selector",type:"text"},{top:e.plotTop+"px"},f);l.onfocus=function(){d.showInput(a)};l.onblur=function(){d.hideInput(a)};
l.onchange=b;l.onkeypress=function(a){13===a.keyCode&&b()}},getPosition:function(){var a=this.chart,b=a.options.rangeSelector,a="top"===b.verticalAlign?a.plotTop-a.axisOffset[0]:0;return{buttonTop:a+b.buttonPosition.y,inputTop:a+b.inputPosition.y-10}},getYTDExtremes:function(a,b,d){var e=new y(a),c=e[y.hcGetFullYear]();d=d?y.UTC(c,0,1):+new y(c,0,1);b=Math.max(b||0,d);e=e.getTime();return{max:Math.min(a||e,e),min:b}},render:function(k,h){var d=this,e=d.chart,f=e.renderer,g=e.container,n=e.options,
p=n.exporting&&!1!==n.exporting.enabled&&n.navigation&&n.navigation.buttonOptions,r=m.lang,q=d.div,t=n.rangeSelector,n=t.floating,x=d.buttons,q=d.inputGroup,y=t.buttonTheme,z=t.buttonPosition,A=t.inputPosition,B=t.inputEnabled,C=y&&y.states,D=e.plotLeft,G,E=this.getPosition(),F=d.buttonGroup,S,O=d.options.verticalAlign,I=e.legend,H=I&&I.options,P=z.y,M=A.y,R=0;if(!1!==t.enabled){d.rendered||(d.group=S=f.g("range-selector-group").attr({zIndex:7}).add(),d.buttonGroup=F=f.g("range-selector-buttons").add(S),
d.zoomText=f.text(r.rangeSelectorZoom,l(D+z.x,D),15).css(t.labelStyle).add(F),G=l(D+z.x,D)+d.zoomText.getBBox().width+5,c(d.buttonOptions,function(a,b){x[b]=f.button(a.text,G,0,function(){var e=a.events&&a.events.click,c;e&&(c=e.call(a));!1!==c&&d.clickButton(b);d.isActive=!0},y,C&&C.hover,C&&C.select,C&&C.disabled).attr({"text-align":"center"}).add(F);G+=x[b].width+l(t.buttonSpacing,5)}),!1!==B&&(d.div=q=u("div",null,{position:"relative",height:0,zIndex:1}),g.parentNode.insertBefore(q,g),d.inputGroup=
q=f.g("input-group").add(S),q.offset=0,d.drawInput("min"),d.drawInput("max")));D=e.plotLeft-e.spacing[3];d.updateButtonStates();p&&this.titleCollision(e)&&"top"===O&&"right"===z.align&&z.y+F.getBBox().height-12<(p.y||0)+p.height-e.spacing[0]&&(R=-40);F.align(b({y:E.buttonTop,width:F.getBBox().width,x:R},z),!0,e.spacingBox);g=F.alignAttr.translateX+R;"left"===z.align?g+=(0>D||a.isNumber(e.margin[3])?0:D)-e.spacing[3]:"right"===z.align&&(g-=e.spacing[1]+(a.isNumber(e.margin[3])?D:0));F.attr({translateY:E.buttonTop,
translateX:g});d.group.placed=!1;d.buttonGroup.placed=!1;!1!==B&&(R=p&&this.titleCollision(e)&&"top"===O&&"right"===A.align&&E.inputTop-q.getBBox().height-12<(p.y||0)+p.height+e.spacing[0]?-40:0,q.align(b({y:E.inputTop,width:q.getBBox().width},A),!0,e.spacingBox),g=q.alignAttr.translateX+R,"left"===A.align?g+=D:"right"===A.align&&(g-=e.axisOffset[1]),q.attr({translateY:E.inputTop+10,translateX:g-("right"===A.align?2:0)}),p=q.translateX+q.alignOptions.x-R+q.getBBox().x+2,g=q.alignOptions.width,r=F.translateX+
F.getBBox().x,E=F.getBBox().width+20,(A.align===z.align||r+E>p&&p+g>r&&P<M+q.getBBox().height)&&q.attr({translateX:q.translateX,translateY:q.translateY+F.getBBox().height+10}),d.setInputValue("min",k),d.setInputValue("max",h),d.inputGroup.placed=!1);d.group.align({verticalAlign:O},!0,e.spacingBox);k=d.group.getBBox().height+20;"bottom"===O&&(h=H&&"bottom"===H.verticalAlign&&H.enabled&&!H.floating?I.legendHeight+l(H.margin,10):0,k=k+h-20);h=Math["middle"===O?"max":"min"](M,P);q&&M<P&&"bottom"===O&&
(h+=q.getBBox().height);q=d.group.alignAttr.translateY;h=0>M&&0>P?0:h;I=Math.floor(q-k-h);if("top"===O)n?I=0:e.spacing[0]!==e.options.chart.spacing[0]&&(I-=e.spacing[0]-e.options.chart.spacing[0]);else if("middle"===O)if(M===P)I=0>M?q+h:q;else if(M||P)I=0>M||0>P?I-Math.min(M,P):q-k+h;I=Math.floor(I);n&&(I+=t.y);d.group.translate(0+t.x,I-3);!1!==B&&(d.minInput.style.marginTop=d.group.translateY+"px",d.maxInput.style.marginTop=d.group.translateY+"px");d.rendered=!0}},getHeight:function(){var a=this.options,
b=a.y,d=this.group,e=a.buttonPosition.y,a=a.inputPosition.y,b=d?d.getBBox(!0).height+13+b:0,d=Math.min(a,e);if(0>a&&0>e||0<a&&0<e)b+=Math.abs(d);return b},titleCollision:function(b){var c=!1;(!a.isObject(b.title)||b.title&&b.title.getBBox().y>b.plotTop)&&(!a.isObject(b.subtitle)||b.subtitle&&b.subtitle.getBBox().y>b.plotTop)&&(c=!0);return c},update:function(a){var b=this.chart;g(!0,b.options.rangeSelector,a);this.destroy();this.init(b);b.rangeSelector.render()},destroy:function(){var b=this,c=b.minInput,
d=b.maxInput;b.unMouseDown();b.unResize();G(b.buttons);c&&(c.onfocus=c.onblur=c.onchange=null);d&&(d.onfocus=d.onblur=d.onchange=null);a.objectEach(b,function(a,d){a&&"chart"!==d&&(a.destroy?a.destroy():a.nodeType&&q(this[d]));a!==D.prototype[d]&&(b[d]=null)},this)}};B.prototype.toFixedRange=function(a,b,d,c){var e=this.chart&&this.chart.fixedRange;a=l(d,this.translate(a,!0,!this.horiz));b=l(c,this.translate(b,!0,!this.horiz));d=e&&(b-a)/e;.7<d&&1.3>d&&(c?a=b-e:b=a+e);n(a)||(a=b=void 0);return{min:a,
max:b}};B.prototype.minFromRange=function(){var a=this.range,b={month:"Month",year:"FullYear"}[a.type],d,c=this.max,f,g,m=function(a,d){var c=new Date(a),e=c["get"+b]();c["set"+b](e+d);e===c["get"+b]()&&c.setDate(0);return c.getTime()-a};n(a)?(d=c-a,g=a):(d=c+m(c,-a.count),this.chart&&(this.chart.fixedRange=c-d));f=l(this.dataMin,Number.MIN_VALUE);n(d)||(d=f);d<=f&&(d=f,void 0===g&&(g=m(d,a.count)),this.newMax=Math.min(d+g,this.dataMax));n(c)||(d=void 0);return d};t(x.prototype,"init",function(a,
b,d){A(this,"init",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new D(this))});a.call(this,b,d)});t(x.prototype,"render",function(a,b,d){var c=this.rangeSelector,h;c&&(c.render(),h=c.options.verticalAlign,c.options.floating||("bottom"===h?this.extraBottomMargin=!0:"middle"!==h&&(this.extraTopMargin=!0)));a.call(this,b,d)});t(x.prototype,"update",function(b,c,d,e){var h=this.rangeSelector,f;this.extraTopMargin=this.extraBottomMargin=!1;h&&(h.render(),f=c.rangeSelector&&c.rangeSelector.verticalAlign||
h.options&&h.options.verticalAlign,h.options.floating||("bottom"===f?this.extraBottomMargin=!0:"middle"!==f&&(this.extraTopMargin=!0)));b.call(this,a.merge(!0,c,{chart:{marginBottom:l(c.chart&&c.chart.marginBottom,this.margin.bottom),spacingBottom:l(c.chart&&c.chart.spacingBottom,this.spacing.bottom)}}),d,e)});t(x.prototype,"redraw",function(a,b,d){var c=this.rangeSelector;c&&!c.options.floating&&(c.render(),c=c.options.verticalAlign,"bottom"===c?this.extraBottomMargin=!0:"middle"!==c&&(this.extraTopMargin=
!0));a.call(this,b,d)});x.prototype.adjustPlotArea=function(){var a=this.rangeSelector;this.rangeSelector&&(a=a.getHeight(),this.extraTopMargin&&(this.plotTop+=a),this.extraBottomMargin&&(this.marginBottom+=a))};x.prototype.callbacks.push(function(a){function b(){d=a.xAxis[0].getExtremes();n(d.min)&&c.render(d.min,d.max)}var d,c=a.rangeSelector,f,g;c&&(g=A(a.xAxis[0],"afterSetExtremes",function(a){c.render(a.min,a.max)}),f=A(a,"redraw",b),b());A(a,"destroy",function(){c&&(f(),g())})});a.RangeSelector=
D})(H);(function(a){var D=a.arrayMax,A=a.arrayMin,B=a.Axis,x=a.Chart,E=a.defined,u=a.each,F=a.format,m=a.grep,p=a.inArray,z=a.isNumber,G=a.isString,q=a.map,c=a.merge,b=a.pick,f=a.Point,y=a.Series,n=a.splat,g=a.SVGRenderer,l=a.wrap,r=y.prototype,C=r.init,t=r.processData,k=f.prototype.tooltipFormatter;a.StockChart=a.stockChart=function(h,d,e){var f=G(h)||h.nodeName,g=arguments[f?1:0],k=g.series,m=a.getOptions(),l,p=b(g.navigator&&g.navigator.enabled,m.navigator.enabled,!0),u=p?{startOnTick:!1,endOnTick:!1}:
null,r={marker:{enabled:!1,radius:2}},t={shadow:!1,borderWidth:0};g.xAxis=q(n(g.xAxis||{}),function(a){return c({minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},m.xAxis,a,{type:"datetime",categories:null},u)});g.yAxis=q(n(g.yAxis||{}),function(a){l=b(a.opposite,!0);return c({labels:{y:-2},opposite:l,showLastLabel:!1,title:{text:null}},m.yAxis,a)});g.series=null;g=c({chart:{panning:!0,pinchType:"x"},navigator:{enabled:p},scrollbar:{enabled:b(m.scrollbar.enabled,
!0)},rangeSelector:{enabled:b(m.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:r,spline:r,area:r,areaspline:r,arearange:r,areasplinerange:r,column:t,columnrange:t,candlestick:t,ohlc:t}},g,{isStock:!0});g.series=k;return f?new x(h,g,e):new x(g,d)};l(B.prototype,"autoLabelAlign",function(a){var b=this.chart,c=this.options,b=b._labelPanes=b._labelPanes||{},h=this.options.labels;return this.chart.options.isStock&&"yAxis"===this.coll&&
(c=c.top+","+c.height,!b[c]&&h.enabled)?(15===h.x&&(h.x=0),void 0===h.align&&(h.align="right"),b[c]=this,"right"):a.apply(this,[].slice.call(arguments,1))});l(B.prototype,"destroy",function(a){var b=this.chart,c=this.options&&this.options.top+","+this.options.height;c&&b._labelPanes&&b._labelPanes[c]===this&&delete b._labelPanes[c];return a.apply(this,Array.prototype.slice.call(arguments,1))});l(B.prototype,"getPlotLinePath",function(c,d,e,f,g,k){var h=this,m=this.isLinked&&!this.series?this.linkedParent.series:
this.series,l=h.chart,n=l.renderer,v=h.left,r=h.top,t,w,x,y,A=[],B=[],C,D;if("xAxis"!==h.coll&&"yAxis"!==h.coll)return c.apply(this,[].slice.call(arguments,1));B=function(a){var b="xAxis"===a?"yAxis":"xAxis";a=h.options[b];return z(a)?[l[b][a]]:G(a)?[l.get(a)]:q(m,function(a){return a[b]})}(h.coll);u(h.isXAxis?l.yAxis:l.xAxis,function(a){if(E(a.options.id)?-1===a.options.id.indexOf("navigator"):1){var b=a.isXAxis?"yAxis":"xAxis",b=E(a.options[b])?l[b][a.options[b]]:l[b][0];h===b&&B.push(a)}});C=B.length?
[]:[h.isXAxis?l.yAxis[0]:l.xAxis[0]];u(B,function(b){-1!==p(b,C)||a.find(C,function(a){return a.pos===b.pos&&a.len&&b.len})||C.push(b)});D=b(k,h.translate(d,null,null,f));z(D)&&(h.horiz?u(C,function(a){var b;w=a.pos;y=w+a.len;t=x=Math.round(D+h.transB);if(t<v||t>v+h.width)g?t=x=Math.min(Math.max(v,t),v+h.width):b=!0;b||A.push("M",t,w,"L",x,y)}):u(C,function(a){var b;t=a.pos;x=t+a.len;w=y=Math.round(r+h.height-D);if(w<r||w>r+h.height)g?w=y=Math.min(Math.max(r,w),h.top+h.height):b=!0;b||A.push("M",
t,w,"L",x,y)}));return 0<A.length?n.crispPolyLine(A,e||1):null});B.prototype.getPlotBandPath=function(a,b){b=this.getPlotLinePath(b,null,null,!0);a=this.getPlotLinePath(a,null,null,!0);var c=[],d;if(a&&b)if(a.toString()===b.toString())c=a,c.flat=!0;else for(d=0;d<a.length;d+=6)c.push("M",a[d+1],a[d+2],"L",a[d+4],a[d+5],b[d+4],b[d+5],b[d+1],b[d+2],"z");else c=null;return c};g.prototype.crispPolyLine=function(a,b){var c;for(c=0;c<a.length;c+=6)a[c+1]===a[c+4]&&(a[c+1]=a[c+4]=Math.round(a[c+1])-b%2/
2),a[c+2]===a[c+5]&&(a[c+2]=a[c+5]=Math.round(a[c+2])+b%2/2);return a};l(B.prototype,"hideCrosshair",function(a,b){a.call(this,b);this.crossLabel&&(this.crossLabel=this.crossLabel.hide())});l(B.prototype,"drawCrosshair",function(a,c,e){var d,h;a.call(this,c,e);if(E(this.crosshair.label)&&this.crosshair.label.enabled&&this.cross){a=this.chart;var f=this.options.crosshair.label,g=this.horiz;d=this.opposite;h=this.left;var k=this.top,l=this.crossLabel,m,n=f.format,p="",q="inside"===this.options.tickPosition,
r=!1!==this.crosshair.snap,t=0;c||(c=this.cross&&this.cross.e);m=g?"center":d?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center";l||(l=this.crossLabel=a.renderer.label(null,null,null,f.shape||"callout").addClass("highcharts-crosshair-label"+(this.series[0]&&" highcharts-color-"+this.series[0].colorIndex)).attr({align:f.align||m,padding:b(f.padding,8),r:b(f.borderRadius,3),zIndex:2}).add(this.labelGroup));g?(m=r?e.plotX+h:c.chartX,k+=d?0:this.height):(m=d?this.width+
h:0,k=r?e.plotY+k:c.chartY);n||f.formatter||(this.isDatetimeAxis&&(p="%b %d, %Y"),n="{value"+(p?":"+p:"")+"}");c=r?e[this.isXAxis?"x":"y"]:this.toValue(g?c.chartX:c.chartY);l.attr({text:n?F(n,{value:c}):f.formatter.call(this,c),x:m,y:k,visibility:"visible"});c=l.getBBox();if(g){if(q&&!d||!q&&d)k=l.y-c.height}else k=l.y-c.height/2;g?(d=h-c.x,h=h+this.width-c.x):(d="left"===this.labelAlign?h:0,h="right"===this.labelAlign?h+this.width:a.chartWidth);l.translateX<d&&(t=d-l.translateX);l.translateX+c.width>=
h&&(t=-(l.translateX+c.width-h));l.attr({x:m+t,y:k,anchorX:g?m:this.opposite?0:a.chartWidth,anchorY:g?this.opposite?a.chartHeight:0:k+c.height/2})}});r.init=function(){C.apply(this,arguments);this.setCompare(this.options.compare)};r.setCompare=function(a){this.modifyValue="value"===a||"percent"===a?function(b,c){var d=this.compareValue;if(void 0!==b&&void 0!==d)return b="value"===a?b-d:b/d*100-(100===this.options.compareBase?0:100),c&&(c.change=b),b}:null;this.userOptions.compare=a;this.chart.hasRendered&&
(this.isDirty=!0)};r.processData=function(){var a,b=-1,c,f,g=!0===this.options.compareStart?0:1,k,l;t.apply(this,arguments);if(this.xAxis&&this.processedYData)for(c=this.processedXData,f=this.processedYData,k=f.length,this.pointArrayMap&&(b=p("close",this.pointArrayMap),-1===b&&(b=p(this.pointValKey||"y",this.pointArrayMap))),a=0;a<k-g;a++)if(l=f[a]&&-1<b?f[a][b]:f[a],z(l)&&c[a+g]>=this.xAxis.min&&0!==l){this.compareValue=l;break}};l(r,"getExtremes",function(a){var b;a.apply(this,[].slice.call(arguments,
1));this.modifyValue&&(b=[this.modifyValue(this.dataMin),this.modifyValue(this.dataMax)],this.dataMin=A(b),this.dataMax=D(b))});B.prototype.setCompare=function(a,c){this.isXAxis||(u(this.series,function(b){b.setCompare(a)}),b(c,!0)&&this.chart.redraw())};f.prototype.tooltipFormatter=function(c){c=c.replace("{point.change}",(0<this.change?"+":"")+a.numberFormat(this.change,b(this.series.tooltipOptions.changeDecimals,2)));return k.apply(this,[c])};l(y.prototype,"render",function(a){this.chart.is3d&&
this.chart.is3d()||this.chart.polar||!this.xAxis||this.xAxis.isRadial||(!this.clipBox&&this.animate?(this.clipBox=c(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len):this.chart[this.sharedClipKey]?this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:this.yAxis.len}):this.clipBox&&(this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len));a.call(this)});l(x.prototype,"getSelectedPoints",function(a){var b=a.call(this);u(this.series,function(a){a.hasGroupedData&&
(b=b.concat(m(a.points||[],function(a){return a.selected})))});return b});l(x.prototype,"update",function(a,b){"scrollbar"in b&&this.navigator&&(c(!0,this.options.scrollbar,b.scrollbar),this.navigator.update({},!1),delete b.scrollbar);return a.apply(this,Array.prototype.slice.call(arguments,1))})})(H)});
